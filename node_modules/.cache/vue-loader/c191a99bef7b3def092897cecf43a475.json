{"remainingRequest":"D:\\github\\JYmo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github\\JYmo\\src\\views\\secondaryHome\\details.vue?vue&type=style&index=0&id=3bccb3fc&lang=scss&scoped=true&","dependencies":[{"path":"D:\\github\\JYmo\\src\\views\\secondaryHome\\details.vue","mtime":1591946189706},{"path":"D:\\github\\JYmo\\node_modules\\css-loader\\dist\\cjs.js","mtime":1591696416476},{"path":"D:\\github\\JYmo\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1591696427902},{"path":"D:\\github\\JYmo\\node_modules\\postcss-loader\\src\\index.js","mtime":1591696423158},{"path":"D:\\github\\JYmo\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1591696425208},{"path":"D:\\github\\JYmo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591696415167},{"path":"D:\\github\\JYmo\\node_modules\\vue-loader\\lib\\index.js","mtime":1591696427902}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnZhbi1kaXZpZGVyIHsNCiAgbWFyZ2luOiAwLjVyZW0gMDsNCn0NCmltZyB7DQogIHdpZHRoOiA5MHZ3Ow0KICBoZWlnaHQ6IDEwMCU7DQp9DQolaWNvbiB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICB3aWR0aDogMS4yNXJlbTsNCiAgaGVpZ2h0OiAxLjI1cmVtOw0KICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTsNCiAgbWFyZ2luOiAxLjE1cmVtIGF1dG87DQogIGJvcmRlci1ib3R0b206IDNweCBkb3R0ZWQgcmdiYSg2NywgNjcsIDY3LCAxKTsNCn0NCi55ZHRqX3RpdCB7DQp9DQouaG9tZS1jb250YWluZXIgew0KICBwYWRkaW5nOiAxLjUlIDAlOw0KICBiYWNrZ3JvdW5kOiByZ2JhKDI0OSwgMjQ5LCAyNDksIDEpOw0KDQogIC5uZXdzLWxpc3Qgew0KICAgIC5maXJzdC1uZXdzIHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7DQogICAgICAmLXRpdGxlIHsNCiAgICAgICAgbGluZS1oZWlnaHQ6IDMuM3JlbTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICAub3RoZXJzLW5ld3Mgew0KICAgICAgLy8gYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDEpOw0KICAgICAgcGFkZGluZzogMHJlbSAxLjI1cmVtOw0KICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7DQoNCiAgICAgIC8vICYtaXRlbSB7DQogICAgICAvLyB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"details.vue","sourceRoot":"src/views/secondaryHome","sourcesContent":["<template>\r\n\r\n  <div class=\"home-container\">\r\n    \r\n    <van-row class=\"news-list\" :gutter=\"24\">\r\n      <van-col class=\"first-news\" :span=\"24\" style=\"padding:0 20px\">\r\n        <van-row class=\"first-news-title\">\r\n          <p\r\n            style=\"font-size:18px;font-weight:bold;line-height:24px;color:rgba(51,51,51,1);\"\r\n          >{{list.title}}</p>\r\n\r\n          <p\r\n            style=\"font-weight:400;color:rgba(153,153,153,1);line-height:36px;\"\r\n          >发布日期：{{list.modifyTime}}</p>\r\n        </van-row>\r\n\r\n        <van-row v-html=\"list.content\">\r\n         \r\n        </van-row>\r\n        <!-- <van-row>\r\n          <van-col>\r\n            <div>{{list.content}}</div>\r\n          </van-col>\r\n        </van-row> -->\r\n        <van-divider style=\"margin:0\" />\r\n\r\n        <van-row style=\"padding-bottom: 12px;color:rgba(80,80,80,1);font-size:16px;\">\r\n          <van-col :span=\"24\">\r\n            <router-link\r\n              :to=\"{path:'/secondaryHome/details',query:{id:prefix.id,siteId:prefix.siteId,columnId:prefix.columnId}}\"\r\n              style=\"line-height:30px;\"\r\n              \r\n            >\r\n              <a>上一篇：{{prefix.title}}</a>\r\n            </router-link>\r\n          </van-col>\r\n\r\n          <van-col :span=\"24\">\r\n            <router-link\r\n              :to=\"{path:'/secondaryHome/details',query:{id:suffix.id,siteId:suffix.siteId,columnId:suffix.columnId}}\"\r\n              style=\"line-height:30px;\"\r\n              \r\n            >\r\n              <a>下一篇：{{suffix.title}}</a>\r\n            </router-link>\r\n          </van-col>\r\n        </van-row>\r\n      </van-col>\r\n\r\n      <van-col class=\"others-news\" :span=\"24\" style=\"margin-left: -2.7%\">\r\n        <van-row style=\"background:#B7DAFD;width:100VW;margin-left:-3.1%\" gutter=\"24\">\r\n          <van-col :span=\"24\">\r\n            <span\r\n              style=\"width:4px;height: 18px;background:rgba(1,111,188,1);border-radius:2px;display:inline-block;\"\r\n            />\r\n            <span\r\n              style=\"font-size:18px;color:rgba(51,51,51,1);line-height:36px;font-weight:bold;margin-left: 10px;\"\r\n            >相关资讯</span>\r\n          </van-col>\r\n          <van-row :gutter=\"24\">\r\n            <router-link\r\n              :to=\"{path:'/secondaryHome/details',query:{id:xiangList[0].id,siteId:xiangList[0].siteId,columnId:xiangList[0].columnId}}\"\r\n            >\r\n              <van-col\r\n                class=\"others-news-item\"\r\n                :span=\"11\"\r\n                style=\"background:rgba(255,255,255,1);padding:10px;margin:9px\"\r\n              >\r\n                <van-col :span=\"24\" style=\"padding:0;text-align: center;\">\r\n                  <van-col :span=\"24\" style=\"padding:0\">\r\n                    <van-image\r\n                      width=\"100%\"\r\n                      height=\"100%\"\r\n                      style\r\n                      cover\r\n                      v-if=\"xiangList[0].image\"\r\n                      :src=\"xiangList[0].image\"\r\n                    />\r\n                  </van-col>\r\n                  <van-col style=\"padding:0\" :span=\"24\">\r\n                    <van-col style=\"padding:0\" :span=\"24\">\r\n                      <p\r\n                        class=\"van-ellipsis\"\r\n                        style=\"font-weight:800\"\r\n                        v-if=\"xiangList[0].title\"\r\n                      >{{xiangList[0].title}}</p>\r\n                    </van-col>\r\n                    <van-col style=\"padding:0\">\r\n                      <p\r\n                        class=\"van-multi-ellipsis--l2\"\r\n                        style=\"padding：5px\"\r\n                        v-if=\"xiangList[0].subTitle\"\r\n                      >{{xiangList[0].subTitle}}</p>\r\n                    </van-col>\r\n                  </van-col>\r\n                </van-col>\r\n              </van-col>\r\n            </router-link>\r\n\r\n            <router-link\r\n              :to=\"{path:'/secondaryHome/details',query:{id:xiangList[1].id,siteId:xiangList[1].siteId,columnId:xiangList[1].columnId}}\"\r\n            >\r\n              <van-col\r\n                class=\"others-news-item\"\r\n                :span=\"11\"\r\n                style=\"background:rgba(255,255,255,1);padding:10px;margin:5px\"\r\n              >\r\n                <van-col :span=\"24\" style=\"padding:0;text-align: center;\">\r\n                  <van-col :span=\"24\" style=\"padding:0\">\r\n                    <van-image\r\n                      width=\"100%\"\r\n                      height=\"100%\"\r\n                      cover\r\n                      v-if=\"xiangList[1].image\"\r\n                      :src=\"xiangList[1].image\"\r\n                    />\r\n                  </van-col>\r\n                  <van-col style=\"padding:0\" :span=\"24\">\r\n                    <van-col style=\"padding:0\" :span=\"24\">\r\n                      <p\r\n                        class=\"van-ellipsis\"\r\n                        style=\"font-weight:800\"\r\n                        v-if=\"xiangList[1].title\"\r\n                      >{{xiangList[1].title}}</p>\r\n                    </van-col>\r\n                    <van-col style=\"padding:0\" :span=\"24\">\r\n                      <p\r\n                        class=\"van-multi-ellipsis--l2\"\r\n                        style=\"padding：5px\"\r\n                        v-if=\"xiangList[1].subTitle\"\r\n                      >{{xiangList[1].subTitle}}</p>\r\n                    </van-col>\r\n                  </van-col>\r\n                </van-col>\r\n              </van-col>\r\n            </router-link>\r\n          </van-row>\r\n        </van-row>\r\n        <van-row style=\"width:100VW;margin-left:-3.3%\">\r\n          <div style=\"background:#B7DAFD;padding-bottom: 2px;\">\r\n            <div style=\"position: relative;padding: 0 0 0 10px;\">\r\n              <span\r\n                style=\"width:4px;height: 18px;background:rgba(1,111,188,1);border-radius:2px;display:inline-block;position: absolute;top: 9px;\"\r\n              />\r\n              <span\r\n                style=\"font-size:18px;color:rgba(51,51,51,1);line-height:36px;font-weight:bold;margin-left: 10px;\"\r\n              >阅读推荐</span>\r\n            </div>\r\n            <van-row :span=\"24\" style=\"padding: 20px 20px;\">\r\n              <van-col\r\n                v-for=\"item in news\"\r\n                :key=\"item.id\"\r\n                :span=\"24\"\r\n                style=\"background:rgba(255,255,255,1);\"\r\n                @click=\"toDetails(item.id,item.siteId)\"\r\n              >\r\n                <van-row>\r\n                  <van-col\r\n                    :span=\"2\"\r\n                    style=\"height:50px;\"\r\n                    type=\"flex\"\r\n                    justify=\"center\"\r\n                    align=\"center\"\r\n                  >\r\n                    <div\r\n                      style=\"margin-top:22px;width:8px;height:8px;background:rgba(139,183,226,1);border-radius:50%;\"\r\n                    />\r\n                  </van-col>\r\n                  <van-col :span=\"21\">\r\n                    <p\r\n                      class=\"van-ellipsis ydtj_tit\"\r\n                      style=\"color:rgba(80,80,80,1);font-size:18px;;\"\r\n                    >{{item.title}}</p>\r\n                  </van-col>\r\n                </van-row>\r\n                <van-row>\r\n                  <van-col :span=\"2\" />\r\n                  <van-col :span=\"22\">\r\n                    <span style=\"color:rgba(153,153,153,1);\">{{item.modifyTime}}</span>\r\n                  </van-col>\r\n                </van-row>\r\n                <van-divider dashed />\r\n              </van-col>\r\n             \r\n            </van-row>\r\n          </div>\r\n        </van-row>\r\n      </van-col>\r\n    </van-row>\r\n    \r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { serverip as ip } from \"@/utils/serverIP\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      news: [],\r\n      relateList: [],\r\n      xiangList: \"\",\r\n      prefix: \"\",\r\n      suffix: \"\"\r\n    };\r\n  },\r\n  // created() {\r\n  //   this.getDetail();\r\n  // },\r\n  mounted() {\r\n    this.getDetail();\r\n    this.getHotNews();\r\n    this.getRelateList(), this.getPrefixSuffix(), this.getXiangNews();\r\n    //  this.ImgSize();\r\n  },\r\n  updated() {\r\n    this.ImgSize();\r\n  },\r\n  // beforeCreate(){\r\n  //   this.ImgSize();\r\n  // },\r\n  beforeMounted() {\r\n    this.ImgSize();\r\n  },\r\n  methods: {\r\n    toDetails(id, siteId, columnId) {\r\n      this.$router.push({\r\n        path: \"/secondaryHome/details\",\r\n        query: {\r\n          id: id,\r\n          siteId: siteId,\r\n          columnId: this.$route.query.columnId\r\n        }\r\n      });\r\n    },\r\n    ImgSize() {\r\n      // if(document.querySelectorAll(\"img\").length-4>1){\r\n      //   document.querySelectorAll(\"img\")[1].style.width=\"90vw\"\r\n      //   document.querySelectorAll(\"img\")[j].style.textAlign = 'center'\r\n      //   console.log(document.querySelectorAll(\"img\"),\"12323\")\r\n      // }\r\n      // if(document.querySelectorAll(\"img\").length-4>2){\r\n      //   document.querySelectorAll(\"img\")[1].style.width=\"90vw\"\r\n      //   document.querySelectorAll(\"img\")[2].style.width=\"90vw\"\r\n      //   console.log(document.querySelectorAll(\"img\"),\"12323\")\r\n      // }\r\n      // if(document.querySelectorAll(\"img\").length-4>3){\r\n      //   document.querySelectorAll(\"img\")[1].style.width=\"90vw\"\r\n      //   document.querySelectorAll(\"img\")[2].style.width=\"90vw\"\r\n      //   document.querySelectorAll(\"img\")[3].style.width=\"90vw\"\r\n      //   console.log(document.querySelectorAll(\"img\"),\"12323\")\r\n      // }\r\n      // for (let i = 1; i < 10; i++) {\r\n      //   if (document.querySelectorAll(\"img\").length - 4 > i) {\r\n      //     for (let j = 1; j <= i + 2; j++) {\r\n      //       console.log(\"触发了\");\r\n      //       document.querySelectorAll(\"img\")[j].style.width = \"90vw\";\r\n      //       // document.querySelectorAll(\"img\")[j].style.marginLeft = \"-10%\";\r\n      //       document.querySelectorAll(\"img\")[j].style.textAlign = \"center\";\r\n      //       console.log(document.querySelectorAll(\"img\"), \"12323\");\r\n      //     }\r\n      //   }\r\n      // }\r\n    },\r\n\r\n    getDetail() {\r\n      console.log(this.$route.query.id, this.$route.query.siteId, \"zeshihjhhh\");\r\n      //\r\n      this.axios\r\n        .post(ip + \"/unauth/news/select\", {\r\n          id: this.$route.query.id,\r\n          siteId: this.$route.query.siteId\r\n        })\r\n        .then(res => {\r\n          this.list = res.data.data;\r\n          console.log(\"新闻详情：list\", this.list);\r\n          // this.getRelateList();\r\n        });\r\n    },\r\n    getRelateList() {\r\n      //获取相关资讯\r\n      this.relateList = this.list.relateList;\r\n      // console.log(this.list, \"相关资讯数据\", this.relateList);\r\n    },\r\n    getHotNews() {\r\n      this.axios\r\n        .post(ip + \"/unauth/news/selectHotNews\", {\r\n          siteId: this.$route.query.siteId\r\n        })\r\n        .then(res => {\r\n          this.news = res.data.data;\r\n          // console.log(\"新闻详情：74\", this.news);\r\n        });\r\n    },\r\n    //相关资讯\r\n    getXiangNews() {\r\n      this.axios\r\n        .post(ip + \"/unauth/news/selectRelatedNews\", {\r\n          id: this.$route.query.id,\r\n          siteId: this.$route.query.siteId,\r\n          columnId: this.$route.query.columnId\r\n        })\r\n        .then(res => {\r\n          this.listSec = res.data.data;\r\n          this.xiangList = this.listSec;\r\n          // console.log(\"相关资讯：\", this.xiangList, this.listSec);\r\n\r\n          // console.log('相关资讯55',res)\r\n        });\r\n    },\r\n    //相关资讯2\r\n    getXianGuanNews() {\r\n      this.xiangList = this.listSec.relateList;\r\n    },\r\n    getPrefixSuffix() {\r\n      const data = {\r\n        id: this.$route.query.id,\r\n        siteId: this.$route.query.siteId,\r\n        columnId: this.$route.query.columnId\r\n      };\r\n      this.axios\r\n        .post(ip + \"/unauth/news/selectPrefixSuffix\", { ...data })\r\n        .then(res => {\r\n          // console.log(res, \"xiayitiao\");\r\n          this.prefix = res.data.data.prefix;\r\n          this.suffix = res.data.data.suffix;\r\n          // console.log(this.prefix, \"prefix\", this.suffix);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.van-divider {\r\n  margin: 0.5rem 0;\r\n}\r\nimg {\r\n  width: 90vw;\r\n  height: 100%;\r\n}\r\n%icon {\r\n  display: block;\r\n  width: 1.25rem;\r\n  height: 1.25rem;\r\n  background-size: 100% 100%;\r\n  margin: 1.15rem auto;\r\n  border-bottom: 3px dotted rgba(67, 67, 67, 1);\r\n}\r\n.ydtj_tit {\r\n}\r\n.home-container {\r\n  padding: 1.5% 0%;\r\n  background: rgba(249, 249, 249, 1);\r\n\r\n  .news-list {\r\n    .first-news {\r\n      background: rgba(255, 255, 255, 1);\r\n      &-title {\r\n        line-height: 3.3rem;\r\n      }\r\n    }\r\n\r\n    .others-news {\r\n      // background:rgba(255,255,255,1);\r\n      padding: 0rem 1.25rem;\r\n      margin-left: 12px;\r\n\r\n      // &-item {\r\n      // }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}